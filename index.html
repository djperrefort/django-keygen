<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>django-keygen &mdash; django-keygen  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> django-keygen
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">django-keygen</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>django-keygen</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-django_keygen">
<span id="django-keygen"></span><h1>django-keygen<a class="headerlink" href="#module-django_keygen" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">django-keygen</span></code> package provides an easy and convenient way to generate
secure secret keys for use with <code class="docutils literal notranslate"><span class="pre">django</span></code> driven web applications.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code> setting in Django is used to provide
<a class="reference external" href="https://docs.djangoproject.com/en/2.2/topics/signing/">cryptographic signing</a>
and is an important part of building secure Django applications.
While it is mostly used to sign session cookies, other common uses
include generating secure URL’s, protecting form content in hidden fields,
and restricting access to private resources.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">django-keygen</span></code> package is pip installable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install django-keygen
</pre></div>
</div>
<p>To integrate the package with an existing django application, add it to
the <code class="docutils literal notranslate"><span class="pre">installed_apps</span></code> list in the application settings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>   <span class="s1">&#39;django-keygen&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="o">...</span>
<span class="gp">... </span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="python-usage">
<h2>Python Usage<a class="headerlink" href="#python-usage" title="Permalink to this heading"></a></h2>
<p>Key generation is available using the <code class="docutils literal notranslate"><span class="pre">KeyGen</span></code> class:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django_keygen</span> <span class="k">import</span> <span class="n">KeyGen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_generator</span> <span class="o">=</span> <span class="n">KeyGen</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secret_key</span> <span class="o">=</span> <span class="n">key_generator</span><span class="o">.</span><span class="n">gen_secret_key</span><span class="p">()</span>
</pre></div>
</div>
<p>By default, keys are generated using the full range of ascii charaters and
are 50 characters long. This can be overwritted using key word arguments:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">string</span> <span class="k">import</span> <span class="n">ascii_lowercase</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_generator</span> <span class="o">=</span> <span class="n">KeyGen</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">chars</span><span class="o">=</span><span class="n">ascii_lowercase</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secret_key</span> <span class="o">=</span> <span class="n">key_generator</span><span class="o">.</span><span class="n">gen_secret_key</span><span class="p">()</span>
</pre></div>
</div>
<p>To use the package in your django application, you will want to persist your
secret key to disk. In your <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> file, add the code snippet below.
The <code class="docutils literal notranslate"><span class="pre">secret_key.txt</span></code> file wil be created automatically if it does not already
exist.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django_keygen</span> <span class="k">import</span> <span class="n">KeyGen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_generator</span> <span class="o">=</span> <span class="n">KeyGen</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="n">key_generator</span><span class="o">.</span><span class="n">from_plaintext</span><span class="p">(</span><span class="s1">&#39;secret_key.txt&#39;</span><span class="p">,</span> <span class="n">create_if_not_exist</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="command-line-usage">
<h2>Command Line Usage<a class="headerlink" href="#command-line-usage" title="Permalink to this heading"></a></h2>
<p>The command line interface is accessible via the django management tool:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py keygen
</pre></div>
</div>
<p>Just like the Python interface, you can specify the key length and charecter set used to generate the key:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py keygen <span class="m">50</span> some_character_set
</pre></div>
</div>
<p>You can also write a new secret key to disk.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The following command will overwrite an existing key file</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py keygen &gt;&gt; secret_key.txt
</pre></div>
</div>
</section>
<section id="security-notices">
<h2>Security Notices<a class="headerlink" href="#security-notices" title="Permalink to this heading"></a></h2>
<p>It is considered bad security practice to use short security keys generating
using few unique characters. To safeguard against this, a <code class="docutils literal notranslate"><span class="pre">SecurityError</span></code>
is raised when <code class="docutils literal notranslate"><span class="pre">django-keygen</span></code> is asked to generate an insecure key.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_generator</span> <span class="o">=</span> <span class="n">KeyGen</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">chars</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">django_keygen.exceptions.SecurityException</span>: <span class="n">Secret key length is short. Consider increasing the key length.</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>The error can be ignored by specifying <code class="docutils literal notranslate"><span class="pre">force=True</span></code>, in which case a warning
is issued instead:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_generator</span> <span class="o">=</span> <span class="n">KeyGen</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">chars</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<div class="toctree-wrapper compound">
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Daniel Perrefort.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>